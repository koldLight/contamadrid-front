<!DOCTYPE html>
<html manifest="wb.appcache">
	<head>

		<meta charset="UTF-8" />
		<meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1" />
		<title>contamadrid</title>
		<meta name="description" content="Consulta la predicción de la calidad del aire en Madrid">
		<meta name="author" content="Luz Frías Díaz">

		<!-- Mobile -->
		<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1, user-scalable=no" />

		<!-- Icons -->
		<link rel="apple-touch-icon" sizes="57x57" href="resources/icons/apple-icon-57x57.png">
		<link rel="apple-touch-icon" sizes="60x60" href="resources/icons/apple-icon-60x60.png">
		<link rel="apple-touch-icon" sizes="72x72" href="resources/icons/apple-icon-72x72.png">
		<link rel="apple-touch-icon" sizes="76x76" href="resources/icons/apple-icon-76x76.png">
		<link rel="apple-touch-icon" sizes="114x114" href="resources/icons/apple-icon-114x114.png">
		<link rel="apple-touch-icon" sizes="120x120" href="resources/icons/apple-icon-120x120.png">
		<link rel="apple-touch-icon" sizes="144x144" href="resources/icons/apple-icon-144x144.png">
		<link rel="apple-touch-icon" sizes="152x152" href="resources/icons/apple-icon-152x152.png">
		<link rel="apple-touch-icon" sizes="180x180" href="resources/icons/apple-icon-180x180.png">
		<link rel="icon" type="image/png" sizes="192x192"  href="resources/icons/android-icon-192x192.png">
		<link rel="icon" type="image/png" sizes="32x32" href="resources/icons/favicon-32x32.png">
		<link rel="icon" type="image/png" sizes="96x96" href="resources/icons/favicon-96x96.png">
		<link rel="icon" type="image/png" sizes="16x16" href="resources/icons/favicon-16x16.png">
		<link rel="manifest" href="resources/icons/manifest.json">
		<meta name="msapplication-TileColor" content="#ffffff">
		<meta name="msapplication-TileImage" content="resources/icons/ms-icon-144x144.png">
		<meta name="theme-color" content="#ffffff">

		<!-- CSS Libraries -->
		<link rel="stylesheet" type="text/css" href="resources/css/bootstrap.css" />
    <link rel="stylesheet" type="text/css" href="resources/plugins/custombox/dist/custombox.min.css" />
		<link rel="stylesheet" type="text/css" href="resources/plugins/seiyria-bootstrap-slider/dist/css/bootstrap-slider.min.css" />
		<link rel="stylesheet" type="text/css" href="resources/plugins/leaflet/leaflet.css" />
		<link rel="stylesheet" type="text/css" href="resources/plugins/leaflet/leaflet.awesome-markers.css" />

		<!-- Template UBold -->
		<link href="resources/css/core.css" rel="stylesheet" type="text/css" />
		<link href="resources/css/components.css" rel="stylesheet" type="text/css" />
		<link href="resources/css/icons.css" rel="stylesheet" type="text/css" />
		<link href="resources/css/pages.css" rel="stylesheet" type="text/css" />
		<link href="resources/css/menu.css" rel="stylesheet" type="text/css" />
		<link href="resources/css/responsive.css" rel="stylesheet" type="text/css" />

		<!-- Custom CSS -->
		<link rel="stylesheet" type="text/css" href="resources/css/fonts.css" />
		<link rel="stylesheet" type="text/css" href="resources/css/app.css" />

		<!-- Loading -->
		<style>
			.animationload {
				position: fixed;
				top: 0;
				left: 0;
				right: 0;
				bottom: 0;
				background-color: #fff;
				z-index: 999999;
			}
			.animationload .animationload-icon {
				width: 200px;
				height: 200px;
				font-size: 24px;
				text-align: center;
				position: absolute;
				left: 50%;
				top: 50%;
				margin: -100px 0 0 -100px;
			}

			.animationload .animationload-icon.loader{
				background-size: 100%;
				background-image: url('resources/images/preloader.gif?v=1');
				background-repeat: no-repeat;
				background-position: center;
			}
		</style>

		<!-- Support for old browsers -->
		<!-- HTML5 Shiv and Respond.js IE8 support of HTML5 elements and media queries -->
		<!-- WARNING: Respond.js doesn't work if you view the page via file:// -->
		<!--[if lt IE 9]>
		<script src="https://oss.maxcdn.com/libs/html5shiv/3.7.0/html5shiv.js"></script>
		<script src="https://oss.maxcdn.com/libs/respond.js/1.3.0/respond.min.js"></script>
		<![endif]-->
		<script src="resources/js/modernizr.min.js"></script>

		<!-- Google Analytics -->
		<script>
		(function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
			(i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
			m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
		})(window,document,'script','https://www.google-analytics.com/analytics.js','ga');

		ga('create', 'UA-44889318-2', 'auto');
		ga('send', 'pageview');
		</script>

	</head>
	<body>

		<!--<div id="appLoading" class="animationload"><div class="animationload-icon loader"></div></div>-->
		<div id="appLoading" class="animationload">
			<div class="animationload-icon">
				<i class="fa fa-spinner fa-pulse fa-3x fa-fw margin-bottom"></i>
				<span class="sr-only">Loading...</span>
			</div>
		</div>

		<section id="viewport" style="display: none"></section>

		<!-- jQuery y sus plugins -->
		<script type="text/javascript" src="resources/js/jquery.js"></script>

		<!-- efecto wave en los botones -->
		<script type="text/javascript" src="resources/js/waves.js"></script>

		<!-- Modal-Effect (Custom box)-->
    <script type="text/javascript" src="resources/plugins/custombox/dist/custombox.min.js"></script>
    <script type="text/javascript" src="resources/plugins/custombox/dist/legacy.min.js"></script>

		<!-- Application load -->
		<script>

			//Application start
			var app = { updating: true, config: { rootPath: "/" } };
			function launchApp(){
				//Iniciamos carga de la app
				var script = document.createElement('script');
				script.setAttribute("data-main", "webase/wb-app");
				script.setAttribute("src", "resources/js/require.js");
				document.body.appendChild(script);
				app.updating = false;
			}

			//Updates
			var appCache = window.applicationCache;
			function onAppUpdate(){
				if(appCache.status == appCache.UPDATEREADY){
					appCache.swapCache();
					window.location.reload();
				}else{
					launchApp();
				}
			}
			function onAppUpdateChecking(){ app.updateChecked = true; }
			function onAppReady(){ launchApp(); }
			function onAppUpdateError(){ launchApp(); }

			appCache.addEventListener('checking', onAppUpdateChecking, false);
			appCache.addEventListener('updateready', onAppUpdate, false);
			appCache.addEventListener('cached', onAppUpdate, false);
			appCache.addEventListener('noupdate', onAppReady, false);
			appCache.addEventListener('error', onAppUpdateError, false);
			appCache.addEventListener('obsolete', onAppUpdateError, false);

			//FIX: Opera cache update error
			setTimeout(function(){
				if(!app.updateChecked){
					onAppUpdateError();
				}
			}, 500);
		</script>

	</body>
</html>
